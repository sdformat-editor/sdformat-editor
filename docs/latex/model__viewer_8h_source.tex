\doxysection{model\+\_\+viewer.\+h}
\hypertarget{model__viewer_8h_source}{}\label{model__viewer_8h_source}\index{include/model\_viewer.h@{include/model\_viewer.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{*\ sdformat-\/editor}}
\DoxyCodeLine{00003\ \textcolor{comment}{*\ Copyright\ 2025\ sdformat-\/editor}}
\DoxyCodeLine{00004\ \textcolor{comment}{*}}
\DoxyCodeLine{00005\ \textcolor{comment}{*\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00006\ \textcolor{comment}{*\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00007\ \textcolor{comment}{*\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00008\ \textcolor{comment}{*}}
\DoxyCodeLine{00009\ \textcolor{comment}{*\ \ \ \ \ http://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00010\ \textcolor{comment}{*}}
\DoxyCodeLine{00011\ \textcolor{comment}{*\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00012\ \textcolor{comment}{*\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00013\ \textcolor{comment}{*\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00014\ \textcolor{comment}{*\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00015\ \textcolor{comment}{*\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00016\ \textcolor{comment}{*}}
\DoxyCodeLine{00017\ \textcolor{comment}{*\ Developer:\ Zaid\ Duraid,\ Ean\ Wheeler,\ Evan\ Vokey}}
\DoxyCodeLine{00018\ \textcolor{comment}{*/}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#ifndef\ SDFORMAT\_EDITOR\_MODEL\_VIEWER\_HH\_}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#define\ SDFORMAT\_EDITOR\_MODEL\_VIEWER\_HH\_}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <interfaces/model\_viewer\_interface.h>}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{comment}{//\ Ogre\ dependencies}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}Ogre.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}OgreApplicationContext.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}OgreInput.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}OgreRTShaderSystem.h"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}OgreWindowEventUtilities.h"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}OgreAssimpLoader.h"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}OgreCameraMan.h"{}}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{//\ GLM\ (for\ vector\ math)}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ <glm/glm.hpp>}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ <glm/gtc/quaternion.hpp>}}
\DoxyCodeLine{00037\ }
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ <filesystem>}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ <queue>}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00044\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classModelViewer}{ModelViewer}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classModelViewerI}{ModelViewerI}}}
\DoxyCodeLine{00045\ \{}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00048\ \ \ \ \ \textcolor{keyword}{public}:\ \mbox{\hyperlink{classModelViewer_af2030418dda408c44d24a399b3b70aed}{ModelViewer}}()\ :\ \mbox{\hyperlink{classModelViewer_af9b29c36b3a77cc8f10e104c6d9c5c6d}{ctx}}(\textcolor{stringliteral}{"{}SDFormat\ Editor\ Model\ Viewer"{}})\ \textcolor{comment}{//\ Initialize\ ctx\ here}}
\DoxyCodeLine{00049\ \ \ \ \ \{}
\DoxyCodeLine{00050\ \ \ \ \ \}}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00053\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_acd52edb619831370a5d2af34a125fa87}{Initialize}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_a62aab1ba5d9b8fe2999a2a4afc0ca2bd}{RenderFrame}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_acc426bf890f6ba957fd15589fb3c26b1}{Quit}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classModelViewer_a7cec8c6e3b729811538137102621eea5}{IsRunning}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00069\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_a4a832e6ac5dcf1ae0784d1ef499972b3}{Deinitialize}}()\ ;}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00072\ \ \ \ \ \textcolor{keyword}{private}:\ std::mutex\ \mbox{\hyperlink{classModelViewer_a7be426a13067e203357ca88708d5bf32}{model\_viewer\_mutex}};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00075\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classModelViewer_a887381909ce7ba00890bba00ef840180}{should\_quit}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classModelViewer_a7c40952a9a9195736e01944b3b91b383}{is\_running}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00082\ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_ac1cb8b80a5d4b91449cd62fc9c033073}{AddModel}}(\mbox{\hyperlink{structModelViewerI_1_1ModelInfo}{ModelInfo}}\ model\_info)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00086\ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_ac1cb8b80a5d4b91449cd62fc9c033073}{AddModel}}(\mbox{\hyperlink{structModelViewerI_1_1PresetModelInfo}{PresetModelInfo}}\ model\_info)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_ae3676b28106f80d71523256697001509}{ResetModels}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00090\ \ \ \ \ }
\DoxyCodeLine{00092\ \ \ \ \ \textcolor{keyword}{private}:\ std::mutex\&\ \mbox{\hyperlink{classModelViewer_aaeb535d26d9f9fa93b2c22b6b42277d2}{GetMutex}}()\ \textcolor{keyword}{override};}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_a8f0a6daa9ba2df15fc9f49118e3c54d5}{HandleAddModelQueue}}();}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classModelViewer_a4623b661e6e3fcf45fbb1ced2f7a6da4}{HandleResetModelsFlag}}();}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keyword}{private}:\ OgreBites::ApplicationContext\ \mbox{\hyperlink{classModelViewer_af9b29c36b3a77cc8f10e104c6d9c5c6d}{ctx}};}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{keyword}{private}:\ Ogre::Root*\ \mbox{\hyperlink{classModelViewer_a6b78542c089e4f543a9d72f3a331852e}{ogreRoot}};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keyword}{private}:\ Ogre::SceneManager*\ \mbox{\hyperlink{classModelViewer_ad8c341e8b2f894ce07a8f7638d6035db}{scnMgr}};}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keyword}{private}:\ Ogre::RTShader::ShaderGenerator\ *\mbox{\hyperlink{classModelViewer_ae72e8894d545cb0016ea29e6c643dbc5}{shadergen}};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00113\ \ \ \ \ \textcolor{keyword}{private}:\ Ogre::Light\ *\mbox{\hyperlink{classModelViewer_ae20d248d30cae20caab2679d4952c0ae}{sceneLight}};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00116\ \ \ \ \ \textcolor{keyword}{private}:\ Ogre::SceneNode\ *\mbox{\hyperlink{classModelViewer_a75effc643f5c108e696953c25920ca86}{sceneLightNode}};}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keyword}{private}:\ Ogre::Camera\ *\mbox{\hyperlink{classModelViewer_a432c69dd729558890503eec0811c0143}{sceneCamera}};}
\DoxyCodeLine{00120\ }
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{private}:\ Ogre::SceneNode*\ \mbox{\hyperlink{classModelViewer_a0e99d4c08f42737ac7e194b2c6e36831}{sceneCameraNode}};}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00125\ \ \ \ \ \textcolor{keyword}{private}:\ OgreBites::CameraMan*\ \mbox{\hyperlink{classModelViewer_a6b76f852d788bbd99ee33c3a0879c305}{cameraController}};}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00128\ \ \ \ \ \textcolor{keyword}{private}:\ std::queue<ModelInfo>\ \mbox{\hyperlink{classModelViewer_af41928ef5b1c5bbda014f9d13559daeb}{add\_model\_queue}};}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keyword}{class\ }\mbox{\hyperlink{classModelViewer_1_1ModelViewerKeyHandler}{ModelViewerKeyHandler}}\ :\ \textcolor{keyword}{public}\ OgreBites::InputListener}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{private}:\ \mbox{\hyperlink{classModelViewer}{ModelViewer}}\ *m;}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:\textcolor{keywordtype}{void}\ addModelViewerContext(\mbox{\hyperlink{classModelViewer}{ModelViewer}}\ *m);}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{bool}\ keyPressed(\textcolor{keyword}{const}\ OgreBites::KeyboardEvent\ \&evt)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{bool}\ mouseWheelRolled(\textcolor{keyword}{const}\ OgreBites::MouseWheelEvent\ \&evt)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{bool}\ mouseMoved(\textcolor{keyword}{const}\ OgreBites::MouseMotionEvent\&\ evt)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{bool}\ mousePressed(\textcolor{keyword}{const}\ OgreBites::MouseButtonEvent\&\ evt)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{public}:\ \textcolor{keywordtype}{bool}\ mouseReleased(\textcolor{keyword}{const}\ OgreBites::MouseButtonEvent\&\ evt)\ \textcolor{keyword}{override};}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \};}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keyword}{private}:\ \mbox{\hyperlink{classModelViewer_1_1ModelViewerKeyHandler}{ModelViewerKeyHandler}}\ \mbox{\hyperlink{classModelViewer_a275903d2d24d27d99fc7fa0f0406c910}{keyHandler}};}
\DoxyCodeLine{00145\ \ \ \ \ }
\DoxyCodeLine{00146\ \ \ \ \ \textcolor{comment}{//\ private:\ ModelViewerWindowEventHandler\ windowEventHandler;}}
\DoxyCodeLine{00147\ \ \ \ \ }
\DoxyCodeLine{00148\ \ \ \ \ \textcolor{comment}{//\ private:}}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ class\ ModelViewerWindowEventHandler\ :\ public\ OgreBites::WindowEventListener}}
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \{}}
\DoxyCodeLine{00151\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ private:\ ModelViewer\ *m;}}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ public:\ void\ addModelViewerContext(ModelViewer\ *m);}}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ public:\ void\ windowClosed(Ogre::RenderWindow*\ rw)\ override;}}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \ \ \ \ public:\ void\ windowMoved(Ogre::RenderWindow*\ rw)\ override;}}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{comment}{//\ \ \ \ \ \};}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ unique\_naming\_counter\ =\ 0;}
\DoxyCodeLine{00158\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keyword}{private}:\ Ogre::ColourValue\ \mbox{\hyperlink{classModelViewer_a002d521fc6d1410a91937ff246c3ffd8}{color\_list}}[6]\ =\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ Ogre::ColourValue(3.3699f,\ 3.1256f,\ 0.633f),}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ Ogre::ColourValue(0.549f,\ 3.1569f,\ 0.1569f),}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ Ogre::ColourValue(4.1325f,\ 1.1339f,\ 0.234f),}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ Ogre::ColourValue(1.0f,\ 0.5f,\ 0.0f),\ }
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ Ogre::ColourValue(0.0f,\ 0.5f,\ 1.0f),\ }
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ Ogre::ColourValue(0.5f,\ 0.0f,\ 0.5f)\ \ }
\DoxyCodeLine{00167\ \ \ \ \ \};}
\DoxyCodeLine{00168\ }
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keyword}{private}:\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classModelViewer_a6ae7b74e37f778cf39cf5272c3557cba}{color\_list\_index}}\ =\ 0;}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00173\ \ \ \ \ \textcolor{keyword}{private}:\ std::atomic<bool>\ \mbox{\hyperlink{classModelViewer_a5fba280cd482efd89cb232f6646005f4}{reset\_models\_flag}};}
\DoxyCodeLine{00174\ \};}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
